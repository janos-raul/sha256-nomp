<style>
    #holder{
        display: flex;
        flex-direction: row;
    }

    .glow{
        box-shadow: inset 0 0 12px 4px #ff6c00;
    }

    .hidden{
        display: none !important;
    }

    #menu{
        background-color: #3d3d3d;
        min-width: 170px;
    }

    #menu > .menuHeader{
        color: #e3f7ff;
        border-bottom: 1px solid #7f878b;
        font-size: 1.2em;
        padding: 16px 16px 4px 15px;
    }

    .menuList{
        transition-duration: 200ms;
    }

    .menuList > a:first-child{
        margin-top: 10px;
    }

    .menuList > a{
        display: block;
        color: #e3f7ff;
        text-decoration: none;
        padding: 7px;
        padding-left: 25px;
        text-transform: capitalize;
    }

    .menuList > a:hover{
        color: #f69b3a;
    }

    #main{
        flex: 1 1 auto;
        display: flex;
        flex-direction: column;
        margin: 18px;
    }
    .miningOption{
        color: white;
        display: flex;
        flex: 1 1 auto;
        flex-direction: row;
        flex-wrap: wrap;
        min-height: 215px;
        justify-content: center;
        align-items: center;
        text-decoration: none;
    }

    a.miningOption:hover{
        color: #f69b3a;
    }

    #coinGlowTrigger{
        background-color: #1f2434;
		 border-radius: 10px;
    }
    #nompAppDownload{
        background-color: #1f2434;
		 border-radius: 10px;
    }
	#connectionDetails{
        background-color: #1f2434;
		 border-radius: 10px;
    }
	#miningConfigGuide {
	  display: flex;
	  flex-direction: column;
	  align-items: center;
	  text-align: left;
	  padding: 25px;
	  max-width: 850px;
	  margin: 0 auto;
	  background-color: #f0f4f8;
	  border-radius: 12px;
	  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
	  font-family: 'Segoe UI', sans-serif;
	}
	.configOptionNum {
	  font-size: 2em;
	  font-weight: bold;
	  margin-bottom: 10px;
	  color: #333;
	}

	.configTitle {
	  font-size: 1.5em;
	  font-weight: bold;
	  margin-bottom: 20px;
	  color: #2c3e50;
	}

	.configDetails p {
	  margin-bottom: 20px;
	}

	.configDetails ul {
	  margin-top: 5px;
	  padding-left: 20px;
	}

	.configDetails code {
	  background-color: #1f2434;
	  padding: 2px 6px;
	  border-radius: 4px;
	  font-family: monospace;
	}
    .miningOptionNum{
        font-size: 6em;
        padding-right: 20px;
        width: 140px;
        text-align: center;
    }
    .miningOptionInstructions{
        flex: 1 1 auto;
    }

    .miningOptionInstructions > div:first-child{
        font-size: 2.4em;
    }
    .miningOptionInstructions > div:last-child{
        margin-top: 20px;
        font-size: 1.3em;
    }

    #orHolder{
        height: 37px;
        text-align: center;
    }
    #orLine{
        border-bottom: 1px solid #c2cacf;
        height: 19px;
        margin-bottom: -13px;
    }
    #orText{
        background-color: #ebf4fa;
        color: #5c5c5c;
        display: inline-block;
        width: 35px;
        font-style: italic;
    }

    #coinInfoBackground{
        transition-duration: 400ms;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: black;
        opacity: 0.0;
    }
    #coinInfo{
        display: flex;
        flex-direction: column;
        color: white;
        width: 750px;
        min-height: 400px;
        top: 50px;
        left: 50%;
        margin-left: -375px;
        position: absolute;
        background-color: #f06350;
		 border-radius: 10px;
    }
    #coinInfo .coinInfoName{
        text-transform: capitalize;
    }
    #coinInfo > div:first-of-type{
        font-size: 1.8em;
        text-align: center;
        margin-top: 40px;
        margin-bottom: 35px;
    }
    #coinInfoRows{
        display: flex;
        flex-direction: row;
        justify-content: center;
        flex: 1 1 auto;
        margin-bottom: 70px;
    }
    #coinInfoRows > div{
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    #coinInfoRows > div > div{
        padding: 3px;
    }
    #coinInfoRowKeys{
        font-weight: bold;
        padding-right: 30px;
    }
    #coinInfoRowKeys .coinInfoSubtle{
        font-weight: normal;
    }
    #coinInfoRowValues{

    }
    #coinInfoClose{
        position: absolute;
        font-size: 3em;
        top: 0;
        right: 0;
        width: 60px;
        height: 60px;
        text-align: center;
        color: white;
        text-decoration: none;
    }
    #coinInfoClose:hover{
        color: #50f0e3;
    }
	.warning {
	text-align: center;
    color: green;
    font-weight: bold;
    background-color: #ffe6e6;
    padding: 10px;
    border: 1px solid blue;
    border-radius: 5px;
  }

</style>

<div id="holder">

    <div id="menu">

        {{? (function(){
                if (!it.portalConfig.switching) return false;
                for (var p in it.portalConfig.switching){
                    if (it.portalConfig.switching[p].enabled)
                        return true;
                }
                return false;
            })()
        }}
        <div class="menuHeader">Coin-Switching Ports</div>
        {{?}}

        <div class="menuList">
        {{ for (var p in it.portalConfig.switching){
            if (!it.portalConfig.switching[p].enabled) continue;
            var info = {
                algo: p,
                ports: {},
                host: it.portalConfig.website.stratumHost
            };
            info.ports[it.portalConfig.switching[p].port] = {diff: it.portalConfig.switching[p].diff};
            info = JSON.stringify(info).replace(/"/g, '&quot;');
        }}
            <a href="#" class="poolOption" data-info="{{=info}}">{{=p}}</a>
        {{ } }}
        </div>

        <div class="menuHeader">Coins</div>
        <div class="menuList" id="coinList">
            {{ for(var pool in it.poolsConfigs) {
                var info = JSON.stringify({
                    coin: it.poolsConfigs[pool].coin,
                    algo: it.poolsConfigs[pool].coin.algorithm,
                    ports: it.poolsConfigs[pool].ports,
                    host: it.portalConfig.website.stratumHost
                }).replace(/"/g, '&quot;');
            }}
            <a href="#" class="poolOption" data-info="{{=info}}">{{=pool}}</a>
            {{ } }}
        </div>
    </div>

    <div id="main">
        <a href="#" class="miningOption" id="nompAppDownload">
            <div class="miningOptionNum">1.</div>
            <div class="miningOptionInstructions">
                <div>Point your miner here to mine sha coins</div>
		<div style="background-color: #1f2434; display: inline-block; padding: 5px;">...or just rent one...
  			<img src="/static/mrr-logo2.png" width="200" height="100" alt="MininRigRentals" />
		</div>
            </div>
        </a>
        <div id="orHolder">
            <div id="orLine"></div>
        </div>
        <a href="#" class="miningOption" id="coinGlowTrigger">
            <div class="miningOptionNum">2.</div>
            <div class="miningOptionInstructions">
                <div>Select a coin for connection details</div>
					<div class="warning">
					  ðŸš€ ASICBoost support ENABLED!
					</div>
                <div>Happy mining !</div>
            </div>
        </a>
		<div id="orHolder">
      			<div id="orLine"></div>
		</div>
<div class="configOption" id="miningConfigGuide">
    <div class="configTitle">Connection Details</div>
    <div class="configDetails">
        
        <!-- Option 1 -->
        <div class="config-item">
            <div class="config-header">
                <span class="config-emoji">ðŸŽ¯</span>
                <span class="config-number">1.</span>
                <span class="config-code">d_init</span>
                <span class="config-arrow">â†’</span>
                <span class="config-label">Custom Initial Difficulty</span>
            </div>
            <div class="config-desc">Sets the miner's starting difficulty manually.</div>
            <div class="config-example">
                <div class="example-label">Example:</div>
                <div>Username: <span class="code-inline">wallet-address.myworker</span></div>
                <div>Password: <span class="code-inline">d=25000</span></div>
            </div>
            <div class="config-effect">
                <div class="effect-label">Effect:</div>
                <ul>
                    <li>Starts with difficulty of 25000</li>
                    <li>Useful for ASICs needing higher initial difficulty</li>
                    <li>Overrides pool's default starting difficulty</li>
                </ul>
            </div>
        </div>

        <!-- Option 2 -->
        <div class="config-item">
            <div class="config-header">
                <span class="config-emoji">ðŸ“‰</span>
                <span class="config-number">2.</span>
                <span class="config-code">min_diff</span>
                <span class="config-arrow">â†’</span>
                <span class="config-label">Minimum Difficulty for VarDiff</span>
            </div>
            <div class="config-desc">Sets the lowest difficulty the pool will assign during VarDiff.</div>
            <div class="config-example">
                <div class="example-label">Example:</div>
                <div>Username: <span class="code-inline">wallet-address.myworker</span></div>
                <div>Password: <span class="code-inline">md=10000</span></div>
            </div>
            <div class="config-effect">
                <div class="effect-label">Effect:</div>
                <ul>
                    <li>VarDiff won't drop below 10000</li>
                    <li>Prevents flooding with tiny shares</li>
                    <li>Ideal for high-hashrate miners like Antminer S19</li>
                </ul>
            </div>
        </div>

        <!-- Option 3 -->
        <div class="config-item">
            <div class="config-header">
                <span class="config-emoji">ðŸš€</span>
                <span class="config-number">3.</span>
                <span class="config-code">mode=solo</span>
                <span class="config-arrow">â†’</span>
                <span class="config-label">Solo Mining Mode</span>
            </div>
            <div class="config-desc">Treats miner as soloâ€”full block reward if a block is found.</div>
            <div class="config-example">
                <div class="example-label">Example:</div>
                <div>Username: <span class="code-inline">wallet-address.myworker</span></div>
                <div>Password: <span class="code-inline">m=solo</span></div>
            </div>
            <div class="config-effect">
                <div class="effect-label">Effect:</div>
                <ul>
                    <li>Miner gets full block reward</li>
                    <li>Great for miners who want to gamble on blocks</li>
                </ul>
            </div>
        </div>

        <!-- Option 4 -->
        <div class="config-item">
            <div class="config-header">
                <span class="config-emoji">ðŸ“Š</span>
                <span class="config-number">4.</span>
                <span class="config-code">mode=prop</span>
                <span class="config-arrow">â†’</span>
                <span class="config-label">PROP Mining Mode</span>
            </div>
            <div class="config-desc">Enables proportional payout mode, where miners earn rewards <br>based on the number of valid shares they submit during a round.</div>
            <div class="config-example">
                <div class="example-label">Example:</div>
                <div>Username: <span class="code-inline">wallet-address.myworker</span></div>
                <div>Password: <span class="code-inline">x or leave blank</span></div>
            </div>
            <div class="config-effect">
                <div class="effect-label">Effect:</div>
                <ul>
                    <li>Miners are rewarded proportionally to their contribution in each round</li>
                    <li>More predictable payouts compared to solo mode</li>
                    <li>Ideal for consistent hashpower miners who prefer steady earnings</li>
                </ul>
            </div>
        </div>

        <!-- Option 5 -->
        <div class="config-item">
            <div class="config-header">
                <span class="config-emoji">ðŸ§ª</span>
                <span class="config-number">5.</span>
                <span class="config-label">Combining Flags</span>
            </div>
            <div class="config-desc">You can combine flags in the password field using commas.</div>
            <div class="config-example">
                <div class="example-label">Example:</div>
                <div>Password: <span class="code-inline">d=25000,md=10000,m=solo</span></div>
            </div>
            <div class="config-effect">
                <div class="effect-label">This sets:</div>
                <ul>
                    <li>Initial difficulty to 25000</li>
                    <li>Minimum VarDiff to 10000</li>
                    <li>Solo mining mode enabled</li>
                </ul>
            </div>
        </div>
        
    </div>
</div>
		
    </div>
</div>

<a href="#" id="coinInfoBackground" class="hidden"></a>

<div id="coinInfo" class="hidden">
    <a href="#" id="coinInfoClose">Ã—</a>
    <div><span class="coinInfoName"></span> Configuration:</div>
    <div id="coinInfoRows">
        <div id="coinInfoRowKeys">
            <div>Username:</div>
            <div>Password:</div>
        </div>
        <div id="coinInfoRowValues">
            <div id="coinInfoUsername"></div>
            <div>anything ( usually x )</div>
        </div>
    </div>
</div>

<script>

    function showCoinConfig(info){

        var htmlKeys = '<div class="coinInfoData">Algorithm:</div>';
        var htmlValues = '<div class="coinInfoData">' + info.algo + '</div>';

        for (var port in info.ports){
            htmlKeys += '<div class="coinInfoData">URL <span class="coinInfoSubtle">(vardiff ' + info.ports[port].diff + ')</span>:</div>';
            htmlValues += '<div class="coinInfoData">stratum+tcp://' + info.host + ':' + port + '</div>';
        }

        if (info.coin)
            $('#coinInfoUsername').text('[ your ' + info.coin.name + ' wallet address ] . [ worker name ]');
        else
            $('#coinInfoUsername').text('your public key');
        $('.coinInfoData').remove();
        $('#coinInfoRowKeys').append(htmlKeys);
        $('#coinInfoRowValues').append(htmlValues);
    }

    $('#coinGlowTrigger').click(function(event){
        event.preventDefault();
        $('.menuList').addClass('glow');
        setTimeout(function(){
            $('.menuList').removeClass('glow');
        }, 200);
        return false;
    });

    $('.poolOption').click(function(event){
        event.preventDefault();
        showCoinConfig($(this).data('info'));
        $('#coinInfoBackground,#coinInfo').removeClass('hidden');
        $('#coinInfoBackground').css('opacity', 0.7);
        return false;
    });

    $('#coinInfoBackground,#coinInfoClose').click(function(event){
        event.preventDefault();
        $('#coinInfoBackground,#coinInfo').addClass('hidden');
        $('#coinInfoBackground').css('opacity', 0.0);
        return false;
    });

    $('#nompAppDownload').click(function(event){
        event.preventDefault();
        alert('Happy mining !');
    window.open('https://www.miningrigrentals.com/', '_blank');
        return false;
    });
</script>
